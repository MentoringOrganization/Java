# 💡 (11주차) 자바 예상 질문 정리

- 출처 : (inflearn) 김영한 강사님의 스프링 MVC

## [스프링 MVC 1편 - 백엔드 웹 개발 핵심 기술]

## 1. 웹 서버(WS; Web Server) 및 웹 어플리케이션 서버(WAS; Web Application Server)의 차이는?

![image](https://github.com/MentoringOrganization/Java/assets/103405457/dac344d1-499e-4861-a01c-950d399f4c71)

![image](https://github.com/MentoringOrganization/Java/assets/103405457/7295169a-a9a6-4528-89a8-d49ed332ecd2)

WAS는 기본적으로 static resource 및 web server 기능을 포함하고 있으며 static file만을 제공하는 WS와 달리 **프로그램 코드를 실행해서 애플리케이션 로직 수행**을 진행하여 동적 HTML, HTTP API(JSON), Servlet, JSP, Spring MVC 등을 제공한다.
- 자바의 경우 Servlet Container 기능을 제공하면 대부분 WAS로 분류한다.

즉, WAS는 애플리케이션 코드를 실행하는데 더 특화되어 있으며 대표적인 WAS의 예는 Tomcat이 있다.

## 2. 웹 시스템의 일반적인 구조에 대해 설명해보자.

![image](https://github.com/MentoringOrganization/Java/assets/103405457/03e8f7de-a999-4678-a03e-366004761ec7)

이때, 애플리케이션 로직이 동작하는 WAS는 잘 죽는다. 따라서 WAS, DB 장애 시 WEB 서버가 오류 화면을 제공하는 식으로 구성된다.

## 3. Servlet의 특징을 코드를 예시로 설명해보자.

![image](https://github.com/MentoringOrganization/Java/assets/103405457/4842f695-1585-478c-b5db-4654192c113b)

urlPatterns(/hello)의 URL이 호출되면 서블릿 코드가 실행되며 특징은 다음과 같다.
- HttpServletRequest : HTTP 요청 정보를 편리하게 사용할 수 있는 HTTP 메소드로서, 개발자가 HTTP 요청 메시지를 편리하게 사용할 수 있도록 Servlet이 HTTP 요청 메시지를 파싱한 후 그 결과를 HttpServletRequest 객체에 담아서 제공한다.
- HttpServletResponse : HTTP 응답 정보를 편리하게 제공할 수 있는 HTTP 메소드

### HTTP 요청과 응답의 흐름을 간단히 말해보자.
- https://develop-writing.tistory.com/20
- 
![image](https://github.com/MentoringOrganization/Java/assets/103405457/c13fce4b-66f4-45a2-a90b-525c5a0ba4bd)

1. 웹 브라우저에서 웹 어플리케이션 측으로 localhost:8080/hello 요청을 보냄
2. 웹 어플리케이션에서 HTTP 요청 메시지를 기반으로 request, response 객체를 생성
3. 생성한 객체들을 Servlet Container로 보냄
4. Servlet class(helloServlet)에 의해 객체들을 매개변수로 받아 실행한 후 response 객체를 웹 어플리케이션 서버에 return
5. 웹 어플리케이션은 response 객체 정보로 HTTP 응답을 생성한 후 "hello world" return

### Servlet Container의 개념과 특징은?

Tomcat처럼 Servlet을 지원하는 WAS를 Servlet Container라고 한며 Servlet Instance를 생성, 초기화, 호출, 종료하는 생명 주기를 관리한다.

**Servlet Insatnce는 Singleton으로 관리한다.** 이는 고객의 요청이 올 때마다 객체를 매번 생성하는 것보다 최초 로딩 시점에 Servlet Instance를 미리 만들어 두고 재활용을 하는 편이 더 효율적이기 때문이다. 또한, 모든 고객 요청은 동일한 Servlet Instance에 접근이 가능하며 따라서 공유 변수를 사용하는 것을 주의해야 한다.

생명 주기는 최초 로딩 시점에 생성되어 Servlet Container가 종료 시 함께 종료된다.

## 4. Thread pool의 개념과 WAS의 멀티 쓰레드 지원의 핵심은 무엇일까?

필요한 Thread를 pool에 보관하고 관리함으로써 이미 생성되어 있는 Thread를 pool에서 꺼내서 사용한다. pool에 Thread가 없을 경우, 기다리는 요청을 거절하거나 특정 숫자만큼 대기하게 함으로써 처리한다.

Thread가 미리 생성되어 있기 때문에 Thread를 생성 및 종료하는 CPU 자원이 절약됨과 동시에 응답 시간이 빠르다는 점과 함께 생성 가능한 Thread의 최대치가 있으므로 많은 요청이 들어와도 기존 요청을 안전하게 처리할 수 있다는 장점이 있다.

## 5. Server-Side Rendering(SSR)과 Client-Side Rendering(CSR)의 차이점은?

주로 SSR은 HTML 최종 결과를 서버에서 만들어서 웹 브라우저에 전달함으로써 주로 JSP, Thymeleaf와 같은 기술을 사용하는 반면 CSR은 HTML 결과를 JS를 사용해 웹 브라우저에서 동적으로 생성하여 적용함으로써 React, Vue.js와 같은 기술을 사용하여 return한다.

## 6. WebFlux와 Thymeleaf에 대해 말해보자.
- https://12bme.tistory.com/602

### WebFlux

Asynchronous Non-Blocking을 처리함으로써 최소 Thread로 최대의 Performance를 내는 기술이다. 또한 기존의 Servlet을 사용하지 않고 람다 + 함수형 프로그래밍으로 개발을 진행한다.

### Thymeleaf

Natural template으로써 HTML의 모양을 유지하면서 View template을 적용할 수 있는 기술이다. Spring MVC와 강력한 기능을 통합할 수 있는 좋은 기술이지만, 성능은 타 View template(Freemarker, Velocity, ..)이 더 빠른 편이다.

## 7. Spring에서 Servlet을 어떻게 사용할까?

내장된 Tomcat 서버를 기반으로 @ServeltComponentScan을 통해 Servlet을 직접 등록하여 사용할 수 있다. url과 Servlet을 mapping하기 위해서는 @WebServlet을 사용한다.

### 그렇다면 내장된 Tomcat 서버는 어떻게 Spring boot, Servlet Container와 상호작용을 진행할까?

Spring boot에 의해 내장 Tomcat 서버가 생성되면, Tomcat 서버는 Servlet Container에서 Servlet class(ex. helloServlet)를 생성한다.

## 8. HTTP 요청 메시지를 통해 클라이언트에서 서버로 데이터를 전달하는 방법은 무엇이며 각각에 대해 설명해보자.

### 1. GET
- 

### 2. POST - HTML Form

### 3. HTTP message body

## [스프링 MVC 2편 - 백엔드 웹 개발 활용 기술]

